CREATE TABLE DORMER(
Username VARCHAR(20),
Password VARCHAR(20) NOT NULL,
Name VARCHAR(80) NOT NULL,
Student_number VARCHAR(10) NOT NULL,
Home_address VARCHAR(80) NOT NULL,
Contact_number VARCHAR(11) NOT NULL,
Birthdate DATE NOT NULL,
Age INTEGER NOT NULL,
Course VARCHAR(20) NOT NULL,
Contact_person VARCHAR(80) NOT NULL,
Contact_person_number VARCHAR(11) NOT NULL,
Room_number INTEGER NOT NULL,
Constraint dormer_username_pk PRIMARY KEY (Username)
);

CREATE TABLE LOG(
Log_id SERIAL,
Log_date DATE NOT NULL,
Log_time TIME NOT NULL,
Type VARCHAR(10) NOT NULL,
Whereabouts VARCHAR(80) NOT NULL,
Username VARCHAR(20) NOT NULL,
Constraint log_id_pk PRIMARY KEY (Log_id),
Constraint log_username_fk FOREIGN KEY (username) REFERENCES DORMER(username)
);

CREATE TABLE DORMER_LOG(
Username VARCHAR(20),
Log_id INTEGER,
Constraint dl_log_pk PRIMARY KEY (Username, Log_id),
Constraint dl_username_fk FOREIGN KEY (Username) REFERENCES DORMER(Username),
Constraint dl_logid_fk FOREIGN KEY (Log_id) REFERENCES LOG(Log_id)
);

CREATE TABLE STAFF(
Staff_number INTEGER,
Name VARCHAR(80) NOT NULL,
Address VARCHAR(80) NOT NULL,
Contact_number VARCHAR(11) NOT NULL,
Type VARCHAR(15) NOT NULL,
Username VARCHAR(20) NOT NULL,
Password VARCHAR(20) NOT NULL,
Constraint staff_number_pk PRIMARY KEY (Staff_number)
);

CREATE TABLE SCHEDULE(
Schedule_id INTEGER,
Day VARCHAR(10) NOT NULL,
Time TIME NOT NULL,
Location VARCHAR(20) NOT NULL,
Constraint schedule_id_pk PRIMARY KEY (Schedule_id)
);

CREATE TABLE STAFF_SCHEDULE(
Staff_number INTEGER,
Schedule_id INTEGER,
Constraint ss_id_pk PRIMARY KEY (Staff_number, Schedule_id),
Constraint ss_snumber_fk FOREIGN KEY (Staff_number) REFERENCES STAFF(Staff_number),
Constraint ss_sid_fk FOREIGN KEY (Schedule_id) REFERENCES SCHEDULE(Schedule_id)
);

CREATE TABLE PAYMENT_RECORD(
Payment_number INTEGER,
Name VARCHAR(80) NOT NULL,
Month VARCHAR(20) NOT NULL,
Username VARCHAR(20) NOT NULL,
Amount INTEGER NOT NULL,
Date_of_payment DATE NOT NULL,
Constraint pr_number_pk PRIMARY KEY (Payment_number),
Constraint pr_username_fk FOREIGN KEY (Username) REFERENCES DORMER(Username)
);

CREATE TABLE ADMIN(
Username VARCHAR(20),
Password VARCHAR(20) NOT NULL,
Constraint admin_username_pk PRIMARY KEY (Username)
);